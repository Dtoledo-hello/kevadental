import{j as f,u,h as r}from"./json-340f5c5c.mjs";import{d as h,t as c,a as v,h as g}from"./entry-4aaed9eb.mjs";import{u as d}from"./asyncData-284536c0.mjs";import{w as y}from"./utils-af5f0187.mjs";import"./utils-e87a46aa.mjs";const l=e=>{const t=e==null?void 0:e.params(),n=y(t?`/navigation/${r(t)}`:"/navigation");return $fetch(n,{method:"GET",responseType:"json",params:{_params:f(t||{}),previewToken:u("previewToken").value}})};var T=h({props:{query:{type:Object,required:!1,default:void 0}},async setup(e){const{query:t}=c(e),{data:n,refresh:a}=await d(`content-navigation-${r(t.value)}`,()=>l(t.value));return{data:n,refresh:a}},render(e){var s;const t=v(),{query:n,data:a,refresh:i}=e,o=(p,m)=>g("pre",null,JSON.stringify({message:"You should use slots with <ContentNavigation>",slot:p,data:m},null,2));return(t==null?void 0:t.empty)&&(!a||!(a!=null&&a.length))?((s=t==null?void 0:t.empty)==null?void 0:s.call(t,{query:n,...this.$attrs}))||o("empty",{query:n,data:a}):t!=null&&t.default?t.default({navigation:a,refresh:i,...this.$attrs}):o("default",a)}});export{T as default};
